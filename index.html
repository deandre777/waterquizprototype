<!doctype html>

<html>

<head>

</head>

<body>

<img src="waterQuizImage.jpg">	

<form id="waterQuiz" style="width:100%;display: block;margin: auto">

    <h1>The Water Cycle</h1>

    <div style="width:98%;display: grid;grid-template-columns: max-content max-content;margin: auto">

        <h2 style="margin: auto 30px 5px 5px">Pools</h2>

        <h2 style="margin: auto 5px 5px 30px">Fluxes</h2>

        <div class="divAnswerColumn" style="font-size: x-small;width:100%;display: grid;grid-template-columns: max-content max-content max-content;margin: auto 30px auto 5px">

            <div class="divAnswerLabelPair">
                <input type="text" id="Question1" name="Question1" style="border-style: none none solid " autofocus>
                <label for="Question1">atmospheric moisture over land</label>
                <span class="adjacentResult" id="result1"></span>
                <span class="empty" id="empty1"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question2" name="Question2" style="border-style: none none solid ">
                <label for="Question2">lakes - saline</label>
                <span class="adjacentResult" id="result2"></span>
                <span class="empty" id="empty2"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question3" name="Question3" style="border-style: none none solid ">
                <label for="Question3">rivers</label>
                <span class="adjacentResult" id="result3"></span>
                <span class="empty" id="empty3"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question4" name="Question4" style="border-style: none none solid ">
                <label for="Question4">atmospheric moisture over ocean</label>
                <span class="adjacentResult" id="result4"></span>
                <span class="empty" id="empty4"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question5" name="Question5" style="border-style: none none solid ">
                <label for="Question5">ocean - deep water zone</label>
                <span class="adjacentResult" id="result5"></span>
                <span class="empty" id="empty5"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question6" name="Question6" style="border-style: none none solid ">
                <label for="Question6">snowpack</label>
                <span class="adjacentResult" id="result6"></span>
                <span class="empty" id="empty6"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question7" name="Question7" style="border-style: none none solid ">
                <label for="Question7">groundwater</label>
                <span class="adjacentResult" id="result7"></span>
                <span class="empty" id="empty7"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question8" name="Question8" style="border-style: none none solid ">
                <label for="Question8">ocean - mixed zone</label>
                <span class="adjacentResult" id="result8"></span>
                <span class="empty" id="empty8"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question9" name="Question9" style="border-style: none none solid ">
                <label for="Question9">soil moisture</label>
                <span class="adjacentResult" id="result9"></span>
                <span class="empty" id="empty9"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question10" name="Question10" style="border-style: none none solid ">
                <label for="Question10">ice sheets and glaciers</label>
                <span class="adjacentResult" id="result10"></span>
                <span class="empty" id="empty10"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question11" name="Question11" style="border-style: none none solid ">
                <label for="Question11">permafrost</label>
                <span class="adjacentResult" id="result11"></span>
                <span class="empty" id="empty11"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question12" name="Question12" style="border-style: none none solid ">
                <label for="Question12">welands - fresh</label>
                <span class="adjacentResult" id="result12"></span>
                <span class="empty" id="empty12"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question13" name="Question13" style="border-style: none none solid ">
                <label for="Question13">lakes - fresh</label>
                <span class="adjacentResult" id="result13"></span>
                <span class="empty" id="empty13"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question14" name="Question14" style="border-style: none none solid ">
                <label for="Question14">reservoirs</label>
                <span class="adjacentResult" id="result14"></span>
                <span class="empty" id="empty14"></span>
            </div>
    

            <div class="divAnswerLabelPair">
                <input type="text" id="Question15" name="Question15" style="border-style: none none solid ">
                <label for="Question15">wetlands - brackish</label>
                <span class="adjacentResult" id="result15"></span>
                <span class="empty" id="empty15"></span>
            </div>

        </div>





        <div class="divAnswerColumn" style="font-size: x-small;width:100%;display: grid;grid-template-columns: max-content max-content max-content;margin: auto 5px auto 30px">

            <div class="divAnswerLabelPair">
                <input type="text" id="Question16" name="Question16" style="border-style: none none solid ">
                <label for="Question16">agricultural water use</label>
                <span class="adjacentResult" id="result16"></span>
                <span class="empty" id="empty16"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question17" name="Question17" style="border-style: none none solid ">
                <label for="Question17">industrial water use</label>
                <span class="adjacentResult" id="result17"></span>
                <span class="empty" id="empty17"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question18" name="Question18" style="border-style: none none solid ">
                <label for="Question18">streamflow to closed basins</label>
                <span class="adjacentResult" id="result18"></span>
                <span class="empty" id="empty18"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question19" name="Question19" style="border-style: none none solid ">
                <label for="Question19">domestic water use</label>
                <span class="adjacentResult" id="result19"></span>
                <span class="empty" id="empty19"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question20" name="Question20" style="border-style: none none solid ">
                <label for="Question20">municipal water use</label>
                <span class="adjacentResult" id="result20"></span>
                <span class="empty" id="empty20"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question21" name="Question21" style="border-style: none none solid ">
                <label for="Question21">streamflow to ocean</label>
                <span class="adjacentResult" id="result21"></span>
                <span class="empty" id="empty21"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question22" name="Question22" style="border-style: none none solid ">
                <label for="Question22">evapotranspiration</label>
                <span class="adjacentResult" id="result22"></span>
                <span class="empty" id="empty22"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question23" name="Question23" style="border-style: none none solid ">
                <label for="Question23">ocean circulation</label>
                <span class="adjacentResult" id="result23"></span>
                <span class="empty" id="empty23"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question24" name="Question24" style="border-style: none none solid ">
                <label for="Question24">runoff</label>
                <span class="adjacentResult" id="result24"></span>
                <span class="empty" id="empty24"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question25" name="Question25" style="border-style: none none solid ">
                <label for="Question25">grazing water use</label>
                <span class="adjacentResult" id="result25"></span>
                <span class="empty" id="empty25"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question26" name="Question26" style="border-style: none none solid ">
                <label for="Question26">ocean evaporation</label>
                <span class="adjacentResult" id="result26"></span>
                <span class="empty" id="empty26"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question27" name="Question27" style="border-style: none none solid ">
                <label for="Question27">snowmelt</label>
                <span class="adjacentResult" id="result27"></span>
                <span class="empty" id="empty27"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question28" name="Question28" style="border-style: none none solid ">
                <label for="Question28">groundwater discharge to ocean</label>
                <span class="adjacentResult" id="result28"></span>
                <span class="empty" id="empty28"></span>
            </div>

            <div class="divAnswerLabelPair">
                <input type="text" id="Question29" name="Question29" style="border-style: none none solid ">
                <label for="Question29">precipitation over land</label>
                <span class="adjacentResult" id="result29"></span>
                <span class="empty" id="empty29"></span>
            </div>


            <div class="divAnswerLabelPair">
                <input type="text" id="Question30" name="Question30" style="border-style: none none solid ">
                <label for="Question30">transport of moisture from ocean to land</label>
                <span class="adjacentResult" id="result30"></span>
                <span class="empty" id="empty30"></span>
            </div>


            <div class="divAnswerLabelPair">
                <input type="text" id="Question31" name="Question31" style="border-style: none none solid ">
                <label for="Question31">groundwater recharge</label>
                <span class="adjacentResult" id="result31"></span>
                <span class="empty" id="empty31"></span>
            </div>


            <div class="divAnswerLabelPair">
                <input type="text" id="Question32" name="Question32" style="border-style: none none solid ">
                <label for="Question32">precipitation over ocean</label>
                <span class="adjacentResult" id="result32"></span>
                <span class="empty" id="empty32"></span>
            </div>


            <div class="divAnswerLabelPair">
                <input type="text" id="Question33" name="Question33" style="border-style: none none solid ">
                <label for="Question33">urban runoff</label>
                <span class="adjacentResult" id="result33"></span>
                <span class="empty" id="empty33"></span>
            </div>


        </div>

    </div>



    
        <div style="display: block;margin: 10px">
            <button type="submit">Submit</button>
        </div>



</form>

<!-- div for results section -->
<div id="results" style="display: block;width: 300px;text-align: center;line-height: 1.5;border-style: dotted;margin: 50px auto;visibility: hidden">
    <div id="resultsContent" style="display: block;margin: 10%"></div>
</div>


<!-- for testing -->
    <!-- <p id="dispTest">disptest</p> -->

<!-- Styling the form -->
<script>

    //Styling all labels:
        const allLabels = document.getElementsByTagName("label");
        //This works!:
            //var allLabels = document.getElementsByTagName("label");
            //allLabels[0].style.color = 'red';


        for (i = 0; i < allLabels.length; i++) {
            //allLabels[i].style.color = 'red';
            //allLabels[i].style.width = "150px";
            allLabels[i].style.width = "fit-content";
            allLabels[i].style.display = " inline";
        }

    //Styling all inputs:
        const allInputs = document.getElementsByTagName("input");

        for (i = 0; i < allInputs.length; i++) {
            //allInputs[i].style.color = 'red';
            //allInputs[i].style.width = "150px";
            allInputs[i].style.width = "35px";
            allInputs[i].style.display = " inline";
        }


    //Styling all "emptys":
        const allEmptys = document.getElementsByClassName("empty");

        for (i = 0; i < allEmptys.length; i++) {
            allEmptys[i].style.width = "fit-content";
            allEmptys[i].style.margin = "auto auto auto 5px";

        }


    //Styling all "answer label pairs":
        const allAnswerLabelPairs = document.getElementsByClassName("divAnswerLabelPair");

        for (i = 0; i < allAnswerLabelPairs.length; i++) {
            //allAnswerLabelPairs[i].style.width = "fit-content";
            allAnswerLabelPairs[i].style.margin = "3px";

        }


        
</script>



<script>

    //create array and populate with correct answers
    const correctAnswers = [
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans',
        'corans'
    ];


    //create event handler for "submit" button
    document.getElementById("waterQuiz").addEventListener("submit", function(event) {

        //prevent default action for event
        event.preventDefault();

        //clear existing outputs in case this is not the first click of the button
        //for (i = 0; i < correctAnswers.length; i++) {
            //document.getElementById(`result${i+1}`).textContent = '';
            //document.getElementById(`empty${i+1}`).textContent = '';
            //document.getElementById(`result${i+1}`).style.visibility = 'hidden';
        //}

        //declare objects to hold info for elements
        const arrayResultElements = document.getElementsByClassName("adjacentResult");
        const arrayEmptyElements = document.getElementsByClassName("empty");

        //clear those two arrays, and hide result elements
        for (i = 0; i < arrayResultElements.length; i++) {
            arrayResultElements[i].textContent ='';
            arrayResultElements[i].style.visibility ='hidden';
            arrayEmptyElements[i].textContent ='';
        }

        //declare counter variables
        let numCorrect = 0;
        let numIncorrect = 0;
        let numBlank = 0;

        //while counter is lower than the number of correct answers, do loop
        for (i = 0; i < correctAnswers.length; i++) {

            //create var "answer" and populate with current user answer
            let answer = document.getElementById(`Question${i+1}`).value;
            
            //hide all "result" spans
            //var resultElement = document.getElementById(`result${i+1}`);
                //new iteration using existing array object
                //let resultElement = arrayResultElements[i+1];
                 
            //resultElement.style.visibility = 'hidden';
                //new iteration: use existing object arrayResultElements
                //arrayResultElements[`${i+1}`].style.visibility = 'hidden';
                //resultElement.style.visibility = 'hidden';           

            //if "answer" equals nothing, say "answer required" next to answer, and add 1 to "numBlank"
            if (answer === "") {
                arrayEmptyElements[i].style.color = 'red';
                arrayEmptyElements[i].textContent = '* Required';
                numBlank++;

            //else if "answer" equals the correct answer, add 1 to the "numCorrect" counter and set result output to "Correct"
            } else if (answer.toLowerCase() === correctAnswers[i].toLowerCase()) {
                numCorrect++;
                arrayResultElements[i].textContent = 'Correct';
                arrayResultElements[i].style.color = 'green';
                //emptyElement.textContent = 'thhis should be cleared';

            //for anything else, add one to the "numIncorrect" counter and set result output to "Incorrect"
            } else {
                numIncorrect++;
                arrayResultElements[i].textContent = 'Incorrect';
                arrayResultElements[i].style.color = 'red';

            }
        }

        //if the "numBlank" counter equals 0, show results
        if (numBlank == 0) {

            //get "results" element and set innerHTML to show numCorrect and numIncorrect
            document.getElementById("results").innerHTML = `<h2>Results:</h2><h4 style="color:green">Correct: ${numCorrect}</h4><h4 style="color:red">Incorrect: ${numIncorrect}</h4>`;

            //and also, unhide the answer-ajacent results
            for (i = 0; i < correctAnswers.length; i++) {
                //document.getElementById(`result${i+1}`).style.visibility = 'visible';
                    //new iteration using existing array object
                    arrayResultElements[i].style.visibility = 'visible';
            }


        //for anything else, say something about required answers
        } else {
            //make the "results" text red
            document.getElementById("resultsContent").style.color = 'red';

            //set "results" text
            document.getElementById("resultsContent").innerHTML = `Please provide answers to all questions. There are ${numBlank} unanswered questions remaining.`;

        }

        //unhide the results container
        document.getElementById("results").style.visibility = "visible";
    });

</script>

</body>

</html>
